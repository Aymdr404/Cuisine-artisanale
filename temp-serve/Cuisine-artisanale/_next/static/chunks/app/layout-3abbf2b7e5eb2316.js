(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{249:()=>{},370:()=>{},646:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(5155),a=r(2115);r(4055);var n=r(2648),i=r(2619),l=r.n(i),o=r(63);let c=()=>{let[e,t]=a.useState(!1),r=(0,o.usePathname)();return(0,a.useEffect)(()=>{t("/about"===r)},[r]),(0,s.jsx)("div",{className:"LegalMention",children:(0,s.jsxs)("header",{className:"legalMention-header",children:[(0,s.jsx)(l(),{href:"/mentions-legales",children:"Mentions l\xe9gales / \xa9Aymeric Sabatier"}),(0,s.jsx)(l(),{href:"/politique-confidentialite",children:"Politique de confidentialit\xe9 / \xa9Aymeric Sabatier"}),!e&&(0,s.jsx)(n.A,{})]})})}},691:()=>{},2648:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);r(2115),r(3229);let a=()=>(0,s.jsx)("div",{className:"LienUtiles",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"mailto:ssabatieraymeric@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)("i",{className:"pi pi-envelope"})," Email"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"https://www.linkedin.com/in/aymeric-sabatier-916613279",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)("i",{className:"pi pi-linkedin"})," LinkedIn"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"https://www.aymeric-sabatier.fr/",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)("i",{className:"pi pi-github"})," Portfolio"]})})]})})},2718:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,O:()=>c});var s=r(5155),a=r(2115),n=r(5973),i=r(3885),l=r(9708);let o=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[p,v]=(0,a.useState)(null),g=async e=>{let t=(0,l.aU)(),r=(0,l.H9)(t,"users",e),s=await (0,l.x7)(r);return s.exists()?s.data().role:null},b=async(e,t)=>{let r=(0,l.aU)(),s=(0,l.H9)(r,"users",e);await (0,l.BN)(s,{email:t,role:"user",createdAt:new Date})};(0,a.useEffect)(()=>{let e=(0,i.hg)(n.j,async e=>{try{if(e){c(e);let t=await g(e.uid);t?d(t):(await b(e.uid,e.email||""),d("user"))}else c(null),d(null)}catch(e){console.error("Error in auth state change:",e),v(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}});return()=>e()},[]);let x=async()=>{try{v(null),await (0,i.CI)(n.j),d(null),window.location.href="/Cuisine-artisanale/"}catch(e){console.error("Error signing out:",e),v(e instanceof Error?e.message:"Error signing out")}},j=async()=>{try{v(null);let e=new i.HF,t=await (0,i.df)(n.j,e);t.user&&(await g(t.user.uid)||(await b(t.user.uid,t.user.email||""),d("user")))}catch(e){throw console.error("Error signing in with Google:",e),v(e instanceof Error?e.message:"Error signing in with Google"),e}};return(0,s.jsx)(o.Provider,{value:{user:r,role:u,logout:x,signInWithGoogle:j,loading:m,error:p},children:t})},u=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3229:()=>{},3769:(e,t,r)=>{"use strict";r.d(t,{P:()=>s,g:()=>a});let s=(e,t)=>{e.current&&e.current.show({severity:t.severity,summary:t.summary,detail:t.detail,life:t.life||1e3})},a={success:{default:"Succ\xe8s",create:"Cr\xe9ation r\xe9ussie",update:"Mise \xe0 jour r\xe9ussie",delete:"Suppression r\xe9ussie",accept:"Acceptation r\xe9ussie",reject:"Rejet r\xe9ussi"},error:{default:"Erreur",create:"Erreur lors de la cr\xe9ation",update:"Erreur lors de la mise \xe0 jour",delete:"Erreur lors de la suppression",auth:"Vous devez \xeatre connect\xe9",accept:"Erreur lors de l'acceptation",reject:"Erreur lors du rejet"},warning:{default:"Attention"},info:{default:"Information",reject:"Rejet effectu\xe9"}}},4055:()=>{},4064:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,t:()=>o});var s=r(5155),a=r(2115),n=r(8574),i=r(3769);let l=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,r=(0,a.useRef)(null);return(0,s.jsxs)(l.Provider,{value:{showToast:e=>{(0,i.P)(r,e)}},children:[t,(0,s.jsx)(n.y,{ref:r})]})},c=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},4196:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(5155),a=r(2115);r(4261);var n=r(2718),i=r(29),l=r(1247),o=r(1773),c=r(4916);r(4215);var u=r(2619),d=r.n(u),m=r(63);let h=e=>{let{onClick:t,isMobile:r=!1}=e,a=(0,m.usePathname)();return(0,s.jsx)("div",{className:"ButtonLinkNav ".concat(r?"mobile":""),children:(0,s.jsx)("nav",{children:(0,s.jsx)("ul",{className:"menu",children:[{path:"/",label:"Accueil"},{path:"/recettes",label:"Recettes"},{path:"/map",label:"Map"},{path:"/about",label:"\xc0 propos"}].map(e=>(0,s.jsx)("li",{className:"menu-item",children:(0,s.jsx)(d(),{href:e.path,onClick:t,className:"nav-link ".concat(a===e.path?"active":""),children:e.label})},e.path))})})})},p=()=>{var e;let{user:t,logout:r,signInWithGoogle:u,role:d}=(0,n.A)(),{theme:p,toggleTheme:v}=(0,a.useContext)(c.D),g=(0,m.usePathname)(),b=(0,m.useRouter)(),[x,j]=(0,a.useState)(!1),[f,w]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(0),[C,E]=(0,a.useState)(!0),[P,A]=(0,a.useState)(!1),I=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=()=>{let e=window.scrollY;window.innerWidth<=768&&(e>k&&e>100?E(!1):E(!0)),j(e>20),S(e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[k]),(0,a.useEffect)(()=>{w(!1)},[g]),(0,a.useEffect)(()=>{A(!0)},[]);let _=[{label:"Mon Profil",icon:"pi pi-user",onClick:()=>{var e;null==(e=I.current)||e.hide(),b.push("/account")}},{label:"Mes Recettes",icon:"pi pi-book",onClick:()=>{var e;null==(e=I.current)||e.hide(),b.push("/account/mes-recettes")}},..."admin"===d?[{label:"Administration",icon:"pi pi-cog",onClick:()=>{var e;null==(e=I.current)||e.hide(),b.push("/admin-panel")}}]:[],{type:"separator"},{label:"D\xe9connexion",icon:"pi pi-power-off",onClick:async()=>{try{var e;null==(e=I.current)||e.hide(),await r(),b.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}}}],L=async()=>{try{N(!0),await u()}catch(e){console.error("Login error:",e)}finally{N(!1)}},W=()=>{w(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("nav",{className:"navbar ".concat(x?"navbar-scrolled":""," ").concat(C?"":"navbar-hidden"),children:(0,s.jsxs)("div",{className:"navbar-container",children:[(0,s.jsx)("div",{className:"navbar-brand",children:(0,s.jsx)("h1",{className:"site-title",children:"Cuisine Artisanale"})}),(0,s.jsx)("div",{className:"navbar-navigation",children:(0,s.jsx)(h,{})}),(0,s.jsxs)("div",{className:"navbar-actions",children:[(0,s.jsx)(i.$,{icon:P&&"dark"===p?"pi pi-sun":"pi pi-moon",className:"theme-toggle",onClick:v,tooltip:P&&"dark"===p?"Mode clair":"Mode sombre",tooltipOptions:{position:"bottom"}}),t?(0,s.jsxs)("div",{className:"user-menu",children:[(0,s.jsxs)(i.$,{className:"user-menu-trigger",onClick:e=>{var t;return null==(t=I.current)?void 0:t.toggle(e)},children:[t.photoURL?(0,s.jsx)(l.e,{image:t.photoURL,shape:"circle"}):(0,s.jsx)(l.e,{label:(null==(e=t.displayName)?void 0:e.charAt(0))||"U",shape:"circle",style:{backgroundColor:"var(--primary-color)"}}),(0,s.jsx)("span",{className:"user-name",children:t.displayName||"Utilisateur"}),"admin"===d&&(0,s.jsx)("span",{className:"user-role",children:"Admin"}),(0,s.jsx)("i",{className:"pi pi-chevron-down"})]}),(0,s.jsx)(o.j,{ref:I,className:"user-menu-panel",showCloseIcon:!1,dismissable:!0,children:(0,s.jsx)("div",{className:"user-menu-content",children:_.map((e,t)=>"separator"===e.type?(0,s.jsx)("div",{className:"menu-separator"},t):(0,s.jsxs)(i.$,{className:"menu-item",onClick:e.onClick,children:[(0,s.jsx)("i",{className:e.icon}),(0,s.jsx)("span",{children:e.label})]},t))})})]}):(0,s.jsx)("div",{className:"auth-buttons",children:(0,s.jsx)(i.$,{label:"Se connecter avec Google",icon:"pi pi-google",className:"p-button-outlined google-auth-btn",onClick:L,loading:y})}),(0,s.jsx)(i.$,{icon:f?"pi pi-times":"pi pi-bars",className:"mobile-menu-toggle",onClick:()=>{w(!f)},"aria-label":f?"Fermer le menu":"Ouvrir le menu"})]})]})}),(0,s.jsx)("div",{className:"mobile-menu-overlay ".concat(f?"show":""),children:(0,s.jsxs)("div",{className:"mobile-menu-content",children:[(0,s.jsx)(h,{isMobile:!0,onClick:W}),t?(0,s.jsx)("div",{className:"mobile-user-menu",children:_.map((e,t)=>"separator"===e.type?(0,s.jsx)("div",{className:"menu-separator"},t):(0,s.jsxs)(i.$,{className:"menu-item",onClick:()=>{e.onClick&&(e.onClick(),W())},children:[(0,s.jsx)("i",{className:e.icon}),(0,s.jsx)("span",{children:e.label})]},t))}):(0,s.jsx)("div",{className:"mobile-auth-buttons",children:(0,s.jsx)(i.$,{label:"Se connecter avec Google",icon:"pi pi-google",className:"p-button-outlined google-auth-btn",onClick:L,loading:y})})]})})]})}},4215:()=>{},4261:()=>{},4916:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,N:()=>i});var s=r(5155),a=r(2115);let n=(0,a.createContext)({theme:"light",toggleTheme:()=>{}});function i(e){let{children:t}=e,[r,i]=(0,a.useState)(()=>localStorage.getItem("theme")||"light");return(0,a.useEffect)(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r),document.documentElement.classList.add("theme-transition");let e=setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300);return()=>clearTimeout(e)},[r]),(0,s.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{i(e=>"dark"===e?"light":"dark")}},children:t})}},5299:()=>{},5566:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),n=r(8368),i=r(9708),l=r(6497),o=r(1733);r(691);let c=()=>{let[e,t]=(0,a.useState)(!1),[r,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),p=(0,i.aU)();(0,a.useEffect)(()=>{let e=localStorage.getItem("newsletter_last_shown"),r=Date.now();if(!e||r-parseInt(e)>26784e5){let e=setTimeout(()=>{t(!0),localStorage.setItem("newsletter_last_shown",r.toString())},1e4);return()=>clearTimeout(e)}},[]);let v=async e=>{if(e.preventDefault(),r)try{await (0,i.gS)((0,i.rJ)(p,"abonnes"),{email:r,date:(0,i.O5)(),subscribed:!0}),await n.Ay.send("service_vxtc0is","template_ejada8v",{user_email:r,recette_nom:"Recette de la semaine",recette_url:"https://www.aymeric-sabatier.fr/Cuisine-artisanale",company_name:"Cuisine Artisanale"},"5xnfDEFOuf9OciDAG"),d("✅ Merci ! Vous \xeates inscrit(e) avec succ\xe8s !"),c(""),setTimeout(()=>t(!1),3e3)}catch(e){console.error(e),d("❌ Une erreur est survenue. R\xe9essayez plus tard.")}};return(0,s.jsx)(l.N,{children:e&&(0,s.jsx)(o.P.div,{className:"newsletter-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(o.P.div,{className:"newsletter-popup ".concat(m?"closing":""),initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20,stiffness:200},children:[(0,s.jsx)("button",{onClick:()=>{h(!0),setTimeout(()=>{t(!1),h(!1)},400)},className:"newsletter-close",children:"✕"}),(0,s.jsx)("h2",{children:"\uD83C\uDF6A Rejoignez la newsletter"}),(0,s.jsx)("p",{children:"Recevez chaque dimanche une recette facile et gourmande !"}),(0,s.jsxs)("form",{onSubmit:v,children:[(0,s.jsx)("input",{type:"email",placeholder:"Votre email",value:r,onChange:e=>c(e.target.value),required:!0}),(0,s.jsx)("button",{type:"submit",children:"S’abonner \uD83C\uDF70"})]}),u&&(0,s.jsx)("p",{className:"newsletter-status",children:u})]})})})}},5973:(e,t,r)=>{"use strict";r.d(t,{I:()=>u,db:()=>c,j:()=>o});var s=r(2078),a=r(9708),n=r(8134),i=r(3885);let l=(0,s.Wp)({apiKey:"AIzaSyCRqPaeQ_8kRByuf8l9_Fkcbmdgy_0aWI4",authDomain:"recettes-cuisine-a1bf2.firebaseapp.com",projectId:"recettes-cuisine-a1bf2",storageBucket:"recettes-cuisine-a1bf2.firebasestorage.app",messagingSenderId:"854150054780",appId:"1:854150054780:web:e3866880aea3e01d5c1af9",measurementId:"G-1J6YNX5LZM"}),o=(0,i.xI)(l),c=(0,a.aU)(l),u=(0,n.c7)(l)},6299:()=>{},6300:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5155),a=r(71),n=r(4916),i=r(2718),l=r(4064);function o(e){let{children:t}=e;return(0,s.jsx)(a.mD,{children:(0,s.jsx)(n.N,{children:(0,s.jsx)(i.O,{children:(0,s.jsx)(l.t,{children:t})})})})}},6345:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(2115);function a(){return(0,s.useEffect)(()=>{!function(){if(!("serviceWorker"in navigator))return console.log("[SW] Service Worker non support\xe9");window.addEventListener("load",()=>{navigator.serviceWorker.register("/Cuisine-artisanale/sw.js").then(e=>{console.log("[SW] Service Worker enregistr\xe9 avec succ\xe8s:",e.scope),setInterval(()=>{e.update()},36e5),e.addEventListener("updatefound",()=>{let t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("[SW] Nouvelle version disponible !"),confirm("Une nouvelle version est disponible. Recharger la page ?")&&(t.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.error("[SW] Erreur lors de l'enregistrement du Service Worker:",e)});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})})}();let e=e=>{e.preventDefault(),console.log("[PWA] App installable")};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",()=>{console.log("[PWA] App install\xe9e avec succ\xe8s !")}),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),null}},6426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115);r(5299);var n=r(9708),i=r(5973),l=r(9020);let o=()=>{let e,[t,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)({functional:!0,analytics:!1,ads:!1}),[u,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{localStorage.getItem("cookieConsent")||r(!0)},[]);let m=async t=>{localStorage.setItem("cookieConsent",JSON.stringify(t)),r(!1);let s=localStorage.getItem("anonId");s?e=s:(e=(0,l.A)(),localStorage.setItem("anonId",e));try{await (0,n.gS)((0,n.rJ)(i.db,"cookieConsent"),{annonId:e,choices:t,timestamp:(0,n.O5)(),userAgent:navigator.userAgent,language:navigator.language})}catch(e){console.error("Erreur Firebase:",e)}},h=e=>{let{name:t,checked:r}=e.target;c(e=>({...e,[t]:r}))};return t?(0,s.jsxs)("div",{className:"cookie-banner banner-show ".concat(u?"expanded":""),children:[(0,s.jsx)("p",{children:"Nous utilisons des cookies pour am\xe9liorer votre exp\xe9rience et analyser la navigation."}),(0,s.jsxs)("div",{className:"cookie-buttons",children:[(0,s.jsx)("button",{onClick:()=>{m({functional:!0,analytics:!0,ads:!0})},className:"accept",children:"Tout accepter"}),(0,s.jsx)("button",{onClick:()=>{m({functional:!0,analytics:!1,ads:!1})},className:"decline",children:"Tout refuser"}),(0,s.jsx)("button",{onClick:()=>d(!u),className:"manage",children:u?"Fermer les options":"G\xe9rer les cookies"})]}),u&&(0,s.jsxs)("div",{className:"cookie-options",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",name:"functional",checked:!0,disabled:!0})," Fonctionnels (obligatoires)"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",name:"analytics",checked:o.analytics,onChange:h})," Analytiques"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",name:"ads",checked:o.ads,onChange:h})," Publicitaires"]}),(0,s.jsx)("button",{className:"save",onClick:()=>m(o),children:"Enregistrer mes choix"})]})]}):null}},7001:()=>{},8292:()=>{},8960:(e,t,r)=>{Promise.resolve().then(r.bind(r,4437)),Promise.resolve().then(r.bind(r,6552)),Promise.resolve().then(r.t.bind(r,2158,23)),Promise.resolve().then(r.t.bind(r,404,23)),Promise.resolve().then(r.bind(r,2008)),Promise.resolve().then(r.t.bind(r,3262,23)),Promise.resolve().then(r.bind(r,6300)),Promise.resolve().then(r.bind(r,6426)),Promise.resolve().then(r.bind(r,646)),Promise.resolve().then(r.bind(r,4196)),Promise.resolve().then(r.bind(r,5566)),Promise.resolve().then(r.bind(r,6345)),Promise.resolve().then(r.t.bind(r,6299,23)),Promise.resolve().then(r.t.bind(r,9285,23)),Promise.resolve().then(r.t.bind(r,8292,23)),Promise.resolve().then(r.t.bind(r,249,23)),Promise.resolve().then(r.t.bind(r,370,23)),Promise.resolve().then(r.t.bind(r,7001,23))},9285:()=>{}},e=>{e.O(0,[2477,4550,2634,2992,9895,4797,1055,8296,29,6946,8574,2619,2008,9374,8441,1255,7358],()=>e(e.s=8960)),_N_E=e.O()}]);