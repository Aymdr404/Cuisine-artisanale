(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5501],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},399:()=>{},1247:(e,t,r)=>{"use strict";r.d(t,{e:()=>f});var a=r(2115),n=r(71),l=r(1055),i=r(5751),s=r(2811);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l,i,s=[],o=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=l.call(r)).done)&&(s.push(a.value),s.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=l.x.extend({defaultProps:{__TYPE:"Avatar",className:null,icon:null,image:null,imageAlt:"avatar",imageFallback:"default",label:null,onImageError:null,shape:"square",size:"normal",style:null,template:null,children:void 0},css:{classes:{root:function(e){var t=e.props,r=e.state;return(0,s.xW)("p-avatar p-component",{"p-avatar-image":s.BF.isNotEmpty(t.image)&&!r.imageFailed,"p-avatar-circle":"circle"===t.shape,"p-avatar-lg":"large"===t.size,"p-avatar-xl":"xlarge"===t.size,"p-avatar-clickable":!!t.onClick})},label:"p-avatar-text",icon:"p-avatar-icon"},styles:"\n@layer primereact {\n    .p-avatar {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        width: 2rem;\n        height: 2rem;\n        font-size: 1rem;\n    }\n    \n    .p-avatar.p-avatar-image {\n        background-color: transparent;\n    }\n    \n    .p-avatar.p-avatar-circle {\n        border-radius: 50%;\n    }\n    \n    .p-avatar.p-avatar-circle img {\n        border-radius: 50%;\n    }\n    \n    .p-avatar .p-avatar-icon {\n        font-size: 1rem;\n    }\n    \n    .p-avatar img {\n        width: 100%;\n        height: 100%;\n    }\n    \n    .p-avatar-clickable {\n        cursor: pointer;\n    }\n}\n"}});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var f=a.forwardRef(function(e,t){var r=(0,i.qV)(),u=a.useContext(n.UM),f=d.getProps(e,u),h=a.useRef(null),v=m(a.useState(!1),2),g=v[0],b=v[1],y=m(a.useState(!1),2),j=y[0],E=y[1],x=d.setMetaData({props:f,state:{imageFailed:g,nested:j}}),N=x.ptm,w=x.cx,P=x.isUnstyled;(0,l.j)(d.css.styles,P,{name:"avatar"});var S=function(e){"default"===f.imageFallback?f.onImageError||(b(!0),e.target.src=null):e.target.src=f.imageFallback,f.onImageError&&f.onImageError(e)};a.useEffect(function(){E(s.DV.isAttributeEquals(h.current.parentElement,"data-pc-name","avatargroup"))},[]),a.useImperativeHandle(t,function(){return{props:f,getElement:function(){return h.current}}});var O=r({ref:h,style:f.style,className:(0,s.xW)(f.className,w("root",{imageFailed:g}))},d.getOtherProps(f),N("root")),k=f.template?s.BF.getJSXElement(f.template,f):function(){if(s.BF.isNotEmpty(f.image)&&!g){var e=r({src:f.image,onError:S},N("image"));return a.createElement("img",c({alt:f.imageAlt},e))}if(f.label){var t=r({className:w("label")},N("label"));return a.createElement("span",t,f.label)}if(f.icon){var n=r({className:w("icon")},N("icon"));return s.Hj.getJSXIcon(f.icon,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){!function(e,t,r){var a;(a=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=o(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(a)?a:a+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n),{props:f})}return null}();return a.createElement("div",O,k,f.children)});f.displayName="Avatar"},2718:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,O:()=>c});var a=r(5155),n=r(2115),l=r(5973),i=r(3885),s=r(9708);let o=(0,n.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[d,p]=(0,n.useState)(!0),[f,h]=(0,n.useState)(null),v=async e=>{let t=(0,s.aU)(),r=(0,s.H9)(t,"users",e),a=await (0,s.x7)(r);return a.exists()?a.data().role:null},g=async(e,t)=>{let r=(0,s.aU)(),a=(0,s.H9)(r,"users",e);await (0,s.BN)(a,{email:t,role:"user",createdAt:new Date})};(0,n.useEffect)(()=>{let e=(0,i.hg)(l.j,async e=>{try{if(e){c(e);let t=await v(e.uid);t?m(t):(await g(e.uid,e.email||""),m("user"))}else c(null),m(null)}catch(e){console.error("Error in auth state change:",e),h(e instanceof Error?e.message:"An error occurred")}finally{p(!1)}});return()=>e()},[]);let b=async()=>{try{h(null),await (0,i.CI)(l.j),m(null),window.location.href="/Cuisine-artisanale/"}catch(e){console.error("Error signing out:",e),h(e instanceof Error?e.message:"Error signing out")}},y=async()=>{try{h(null);let e=new i.HF,t=await (0,i.df)(l.j,e);t.user&&(await v(t.user.uid)||(await g(t.user.uid,t.user.email||""),m("user")))}catch(e){throw console.error("Error signing in with Google:",e),h(e instanceof Error?e.message:"Error signing in with Google"),e}};return(0,a.jsx)(o.Provider,{value:{user:r,role:u,logout:b,signInWithGoogle:y,loading:d,error:f},children:t})},u=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4841:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var a=r(2115),n=r(71),l=r(1055),i=r(5751),s=r(2811),o=l.x.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0},css:{classes:{root:"p-card p-component",header:"p-card-header",title:"p-card-title",subTitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer",body:"p-card-body"},styles:"\n@layer primereact {\n    .p-card-header img {\n        width: 100%;\n    }\n}\n"}}),c=a.forwardRef(function(e,t){var r,c,u,m,d,p,f,h,v,g,b=(0,i.qV)(),y=a.useContext(n.UM),j=o.getProps(e,y),E=a.useRef(t),x=o.setMetaData({props:j}),N=x.ptm,w=x.cx,P=x.isUnstyled;(0,l.j)(o.css.styles,P,{name:"card"}),a.useEffect(function(){s.BF.combinedRefs(E,t)},[E,t]);var S=b({id:j.id,ref:E,style:j.style,className:(0,s.xW)(j.className,w("root"))},o.getOtherProps(j),N("root")),O=(r=b({className:w("header")},N("header")),j.header?a.createElement("div",r,s.BF.getJSXElement(j.header,j)):null),k=(c=b({className:w("title")},N("title")),u=j.title&&a.createElement("div",c,s.BF.getJSXElement(j.title,j)),m=b({className:w("subTitle")},N("subTitle")),d=j.subTitle&&a.createElement("div",m,s.BF.getJSXElement(j.subTitle,j)),p=b({className:w("content")},N("content")),f=j.children&&a.createElement("div",p,j.children),h=b({className:w("footer")},N("footer")),v=j.footer&&a.createElement("div",h,s.BF.getJSXElement(j.footer,j)),g=b({className:w("body")},N("body")),a.createElement("div",g,u,d,f,v));return a.createElement("div",S,O,k)});c.displayName="Card"},5102:(e,t,r)=>{Promise.resolve().then(r.bind(r,5986))},5973:(e,t,r)=>{"use strict";r.d(t,{I:()=>u,db:()=>c,j:()=>o});var a=r(2078),n=r(9708),l=r(8134),i=r(3885);let s=(0,a.Wp)({apiKey:"AIzaSyCRqPaeQ_8kRByuf8l9_Fkcbmdgy_0aWI4",authDomain:"recettes-cuisine-a1bf2.firebaseapp.com",projectId:"recettes-cuisine-a1bf2",storageBucket:"recettes-cuisine-a1bf2.firebasestorage.app",messagingSenderId:"854150054780",appId:"1:854150054780:web:e3866880aea3e01d5c1af9",measurementId:"G-1J6YNX5LZM"}),o=(0,i.xI)(s),c=(0,n.aU)(s),u=(0,l.c7)(s)},5986:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(5155);r(2115),r(399);var n=r(2718),l=r(2619),i=r.n(l),s=r(63),o=r(1247),c=r(29),u=r(4841);let m=e=>{var t;let{children:r}=e,{user:l,logout:m}=(0,n.A)(),d=(0,s.usePathname)();return l?(0,a.jsx)("div",{className:"account-page",children:(0,a.jsxs)("div",{className:"account-container",children:[(0,a.jsxs)(u.Z,{className:"panel-left",children:[(0,a.jsxs)("div",{className:"user-profile",children:[l.photoURL?(0,a.jsx)(o.e,{image:l.photoURL,size:"xlarge",shape:"circle"}):(0,a.jsx)(o.e,{label:(null==(t=l.displayName)?void 0:t.charAt(0))||"U",size:"xlarge",shape:"circle",style:{backgroundColor:"var(--primary-color)"}}),(0,a.jsx)("h2",{children:l.displayName||"Utilisateur"}),(0,a.jsx)("p",{className:"user-email",children:l.email}),(0,a.jsx)(c.$,{className:"logout-button",onClick:m,style:{display:"block",margin:"20px auto"},children:"D\xe9connexion"})]}),(0,a.jsx)("nav",{className:"account-navigation",children:[{href:"/account",label:"Mon Profil",icon:"pi pi-user"},{href:"/account/mes-recettes",label:"Mes Recettes",icon:"pi pi-book"},{href:"/account/mes-favoris",label:"Mes Favoris",icon:"pi pi-heart"}].map(e=>(0,a.jsxs)(i(),{href:e.href,className:"nav-item ".concat("/account"===e.href?"/account"===d?"active":"":d.startsWith(e.href)?"active":""),children:[(0,a.jsx)("i",{className:e.icon}),(0,a.jsx)("span",{children:e.label})]},e.href))})]}),(0,a.jsx)(u.Z,{className:"panel-right",children:r})]})}):(0,a.jsx)("div",{className:"account-loading",children:(0,a.jsx)("h2",{children:"Vous n'\xeates pas connect\xe9"})})}}},e=>{e.O(0,[7272,2992,9895,4797,1055,8296,29,2619,8441,1255,7358],()=>e(e.s=5102)),_N_E=e.O()}]);