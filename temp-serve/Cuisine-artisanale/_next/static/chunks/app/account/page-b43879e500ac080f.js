(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1298],{2082:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var a=t(5155);t(2115),t(7559);var s=t(2718);let i=()=>{let{user:e}=(0,s.A)();return(0,a.jsxs)("div",{className:"AccountDetail",children:[(0,a.jsxs)("h2",{children:["Bienvenue ",null==e?void 0:e.displayName]}),(0,a.jsx)("p",{children:"Vous pouvez modifier vos informations personnelles ici"})]})}},2718:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,O:()=>o});var a=t(5155),s=t(2115),i=t(5973),n=t(3885),u=t(9708);let l=(0,s.createContext)(void 0),o=e=>{let{children:r}=e,[t,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[h,f]=(0,s.useState)(!0),[g,w]=(0,s.useState)(null),m=async e=>{let r=(0,u.aU)(),t=(0,u.H9)(r,"users",e),a=await (0,u.x7)(t);return a.exists()?a.data().role:null},p=async(e,r)=>{let t=(0,u.aU)(),a=(0,u.H9)(t,"users",e);await (0,u.BN)(a,{email:r,role:"user",createdAt:new Date})};(0,s.useEffect)(()=>{let e=(0,n.hg)(i.j,async e=>{try{if(e){o(e);let r=await m(e.uid);r?d(r):(await p(e.uid,e.email||""),d("user"))}else o(null),d(null)}catch(e){console.error("Error in auth state change:",e),w(e instanceof Error?e.message:"An error occurred")}finally{f(!1)}});return()=>e()},[]);let v=async()=>{try{w(null),await (0,n.CI)(i.j),d(null),window.location.href="/Cuisine-artisanale/"}catch(e){console.error("Error signing out:",e),w(e instanceof Error?e.message:"Error signing out")}},y=async()=>{try{w(null);let e=new n.HF,r=await (0,n.df)(i.j,e);r.user&&(await m(r.user.uid)||(await p(r.user.uid,r.user.email||""),d("user")))}catch(e){throw console.error("Error signing in with Google:",e),w(e instanceof Error?e.message:"Error signing in with Google"),e}};return(0,a.jsx)(l.Provider,{value:{user:t,role:c,logout:v,signInWithGoogle:y,loading:h,error:g},children:r})},c=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4980:(e,r,t)=>{Promise.resolve().then(t.bind(t,2082))},5973:(e,r,t)=>{"use strict";t.d(r,{I:()=>c,db:()=>o,j:()=>l});var a=t(2078),s=t(9708),i=t(8134),n=t(3885);let u=(0,a.Wp)({apiKey:"AIzaSyCRqPaeQ_8kRByuf8l9_Fkcbmdgy_0aWI4",authDomain:"recettes-cuisine-a1bf2.firebaseapp.com",projectId:"recettes-cuisine-a1bf2",storageBucket:"recettes-cuisine-a1bf2.firebasestorage.app",messagingSenderId:"854150054780",appId:"1:854150054780:web:e3866880aea3e01d5c1af9",measurementId:"G-1J6YNX5LZM"}),l=(0,n.xI)(u),o=(0,s.aU)(u),c=(0,i.c7)(u)},7559:()=>{}},e=>{e.O(0,[536,2992,9895,4797,8296,8441,1255,7358],()=>e(e.s=4980)),_N_E=e.O()}]);